<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نمایش جدول‌های پیشرفته میراژ - Mirage Advanced Tables Demo</title>
    
    <!-- Persian Font Imports -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
    
    <!-- Yekan Bakh Font -->
    <link rel="stylesheet" href="../../assets/css/fonts-yekanbakh.css">
    
    <!-- Mirage Design System Styles -->
    <link rel="stylesheet" href="../../assets/css/mirage-styles.css">
    
    <!-- Table Component Styles -->
    <link rel="stylesheet" href="table.css">
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <style>
        .demo-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            border-radius: 20px;
            padding: var(--mir-space-6);
            margin-bottom: var(--mir-space-6);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .demo-title {
            font-family: 'YekanBakh', sans-serif;
            font-size: var(--mir-text-2xl);
            font-weight: 700;
            color: var(--mir-gray-900);
            margin-bottom: var(--mir-space-4);
            text-align: right;
        }
        
        .demo-subtitle {
            font-size: var(--mir-text-lg);
            font-weight: 600;
            color: var(--mir-gray-700);
            margin-bottom: var(--mir-space-3);
            text-align: right;
        }
        
        .header {
            text-align: center;
            padding: var(--mir-space-8) var(--mir-space-4);
            background: var(--mir-primary);
            color: white;
            margin-bottom: var(--mir-space-6);
        }
        
        .header h1 {
            font-family: 'YekanBakh', sans-serif;
            font-size: var(--mir-text-3xl);
            font-weight: 700;
            margin-bottom: var(--mir-space-2);
        }
        
        .header p {
            font-size: var(--mir-text-lg);
            opacity: 0.9;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--mir-space-4);
        }
        
        .code-preview {
            background: var(--mir-gray-900);
            color: var(--mir-gray-100);
            padding: var(--mir-space-4);
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: var(--mir-text-sm);
            direction: ltr;
            text-align: left;
            margin-top: var(--mir-space-3);
            overflow-x: auto;
        }
        
        .demo-controls {
            display: flex;
            gap: var(--mir-space-3);
            justify-content: center;
            margin-bottom: var(--mir-space-6);
            flex-wrap: wrap;
        }
        
        .demo-control-btn {
            padding: var(--mir-space-2) var(--mir-space-4);
            border: 1px solid var(--mir-primary);
            border-radius: 8px;
            background: white;
            color: var(--mir-primary);
            font-size: var(--mir-text-sm);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .demo-control-btn:hover {
            background: var(--mir-primary);
            color: white;
            transform: translateY(-2px);
        }
        
        .demo-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--mir-space-4);
            margin-bottom: var(--mir-space-6);
        }
        
        .demo-stat {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: var(--mir-space-4);
            text-align: center;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .demo-stat-value {
            font-size: var(--mir-text-2xl);
            font-weight: 700;
            color: var(--mir-primary);
            margin-bottom: var(--mir-space-2);
        }
        
        .demo-stat-label {
            font-size: var(--mir-text-sm);
            color: var(--mir-gray-600);
        }
        
        .demo-table {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            border-radius: 16px;
            border: 1px solid rgba(0, 0, 0, 0.05);
            margin-bottom: var(--mir-space-6);
            overflow: hidden;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--mir-space-4);
            margin-bottom: var(--mir-space-4);
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.8);
            padding: var(--mir-space-4);
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.05);
            text-align: center;
        }
        
        .feature-icon {
            width: 48px;
            height: 48px;
            background: var(--mir-primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--mir-space-3);
            color: white;
        }
        
        .feature-title {
            font-size: var(--mir-text-lg);
            font-weight: 600;
            margin-bottom: var(--mir-space-2);
            color: var(--mir-gray-900);
        }
        
        .feature-desc {
            font-size: var(--mir-text-sm);
            color: var(--mir-gray-600);
            line-height: 1.6;
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        @media (max-width: 768px) {
            .demo-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .demo-control-btn {
                width: 100%;
                max-width: 200px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body class="mir-body">
    <div class="header">
        <div class="container">
            <h1>سیستم جدول‌های پیشرفته میراژ</h1>
            <p>جدول‌های قابل مرتب‌سازی، فیلترینگ و انتخاب با بهینه‌سازی RTL فارسی</p>
        </div>
    </div>

    <div class="container">
        <!-- Features Overview -->
        <section class="demo-section">
            <h2 class="demo-title">ویژگی‌های جدول‌های پیشرفته - Advanced Table Features</h2>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="arrow-up-down"></i>
                    </div>
                    <h3 class="feature-title">مرتب‌سازی</h3>
                    <p class="feature-desc">مرتب‌سازی صعودی و نزولی ستون‌ها</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="filter"></i>
                    </div>
                    <h3 class="feature-title">فیلترینگ</h3>
                    <p class="feature-desc">جستجو و فیلتر کردن در تمام ستون‌ها</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="check-square"></i>
                    </div>
                    <h3 class="feature-title">انتخاب چندگانه</h3>
                    <p class="feature-desc">انتخاب تک یا چند ردیف</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="chevrons-left"></i>
                    </div>
                    <h3 class="feature-title">صفحه‌بندی</h3>
                    <p class="feature-desc">تقسیم داده‌ها به صفحات</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="smartphone"></i>
                    </div>
                    <h3 class="feature-title">طراحی ریسپانسیو</h3>
                    <p class="feature-desc">سازگار با تمام اندازه‌های صفحه</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="globe"></i>
                    </div>
                    <h3 class="feature-title">پشتیبانی RTL</h3>
                    <p class="feature-desc">بهینه‌سازی شده برای زبان‌های راست به چپ</p>
                </div>
            </div>
        </section>

        <!-- Demo Statistics -->
        <section class="demo-section">
            <h2 class="demo-title">آمار جدول - Table Statistics</h2>
            
            <div class="demo-stats">
                <div class="demo-stat">
                    <div class="demo-stat-value" id="totalRows">۱۰۰</div>
                    <div class="demo-stat-label">کل ردیف‌ها</div>
                </div>
                <div class="demo-stat">
                    <div class="demo-stat-value" id="filteredRows">۱۰۰</div>
                    <div class="demo-stat-label">ردیف‌های فیلتر شده</div>
                </div>
                <div class="demo-stat">
                    <div class="demo-stat-value" id="selectedRows">۰</div>
                    <div class="demo-stat-label">ردیف‌های انتخاب شده</div>
                </div>
                <div class="demo-stat">
                    <div class="demo-stat-value" id="currentPage">۱</div>
                    <div class="demo-stat-label">صفحه فعلی</div>
                </div>
            </div>
        </section>

        <!-- Demo Controls -->
        <section class="demo-section">
            <h2 class="demo-title">کنترل‌های جدول - Table Controls</h2>
            
            <div class="demo-controls">
                <button class="demo-control-btn" id="addRowBtn">
                    <i data-feather="plus"></i>
                    افزودن ردیف
                </button>
                <button class="demo-control-btn" id="deleteSelectedBtn">
                    <i data-feather="trash-2"></i>
                    حذف انتخاب شده
                </button>
                <button class="demo-control-btn" id="selectAllBtn">
                    <i data-feather="check-square"></i>
                    انتخاب همه
                </button>
                <button class="demo-control-btn" id="clearSelectionBtn">
                    <i data-feather="x-square"></i>
                    پاک کردن انتخاب
                </button>
                <button class="demo-control-btn" id="exportBtn">
                    <i data-feather="download"></i>
                    صدور CSV
                </button>
            </div>
        </section>

        <!-- Advanced Table Demo -->
        <section class="demo-section">
            <h2 class="demo-title">جدول پیشرفته - Advanced Table</h2>
            
            <div class="demo-table">
                <div class="mir-table-container">
                    <table class="mir-table mir-table-advanced" id="advancedTable">
                        <thead>
                            <tr>
                                <th class="mir-table-checkbox">
                                    <label class="mir-checkbox">
                                        <input type="checkbox" id="selectAllCheckbox">
                                        <span class="mir-checkbox-mark"></span>
                                    </label>
                                </th>
                                <th class="mir-table-sortable" data-sort="id">
                                    <div class="mir-table-header">
                                        <span>شناسه</span>
                                        <i data-feather="chevrons-up-down" class="mir-sort-icon"></i>
                                    </div>
                                </th>
                                <th class="mir-table-sortable" data-sort="name">
                                    <div class="mir-table-header">
                                        <span>نام</span>
                                        <i data-feather="chevrons-up-down" class="mir-sort-icon"></i>
                                    </div>
                                </th>
                                <th class="mir-table-sortable" data-sort="email">
                                    <div class="mir-table-header">
                                        <span>ایمیل</span>
                                        <i data-feather="chevrons-up-down" class="mir-sort-icon"></i>
                                    </div>
                                </th>
                                <th class="mir-table-sortable" data-sort="role">
                                    <div class="mir-table-header">
                                        <span>نقش</span>
                                        <i data-feather="chevrons-up-down" class="mir-sort-icon"></i>
                                    </div>
                                </th>
                                <th class="mir-table-sortable" data-sort="status">
                                    <div class="mir-table-header">
                                        <span>وضعیت</span>
                                        <i data-feather="chevrons-up-down" class="mir-sort-icon"></i>
                                    </div>
                                </th>
                                <th class="mir-table-sortable" data-sort="created">
                                    <div class="mir-table-header">
                                        <span>تاریخ ثبت</span>
                                        <i data-feather="chevrons-up-down" class="mir-sort-icon"></i>
                                    </div>
                                </th>
                                <th class="mir-table-actions">عملیات</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Dynamic content will be inserted here -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination -->
                <div class="mir-table-pagination">
                    <div class="mir-pagination-info">
                        نمایش <span id="showingFrom">۱</span> تا <span id="showingTo">۱۰</span> از <span id="totalItems">۱۰۰</span> مورد
                    </div>
                    <div class="mir-pagination-controls">
                        <button class="mir-btn mir-btn-ghost mir-btn-sm" id="prevBtn">
                            <i data-feather="chevron-right"></i>
                            قبلی
                        </button>
                        <div class="mir-pagination-numbers" id="paginationNumbers">
                            <!-- Dynamic pagination numbers -->
                        </div>
                        <button class="mir-btn mir-btn-ghost mir-btn-sm" id="nextBtn">
                            بعدی
                            <i data-feather="chevron-left"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Basic Table -->
        <section class="demo-section">
            <h2 class="demo-title">جدول ساده - Basic Table</h2>
            
            <div class="demo-table">
                <div class="mir-table-container">
                    <table class="mir-table">
                        <thead>
                            <tr>
                                <th>نام</th>
                                <th>ایمیل</th>
                                <th>نقش</th>
                                <th>وضعیت</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="mir-table-user">
                                        <img src="https://images.unsplash.com/photo-1494790108755-2616b332c000?w=32&h=32&fit=crop&crop=face" alt="User" class="mir-table-avatar">
                                        <span>سارا احمدی</span>
                                    </div>
                                </td>
                                <td>sara@example.com</td>
                                <td>مدیر</td>
                                <td><span class="mir-status mir-status-success">فعال</span></td>
                                <td>
                                    <div class="mir-table-actions">
                                        <button class="mir-btn mir-btn-ghost mir-btn-xs">
                                            <i data-feather="edit"></i>
                                        </button>
                                        <button class="mir-btn mir-btn-ghost mir-btn-xs">
                                            <i data-feather="trash-2"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="mir-table-user">
                                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face" alt="User" class="mir-table-avatar">
                                        <span>علی حسینی</span>
                                    </div>
                                </td>
                                <td>ali@example.com</td>
                                <td>توسعه‌دهنده</td>
                                <td><span class="mir-status mir-status-warning">معلق</span></td>
                                <td>
                                    <div class="mir-table-actions">
                                        <button class="mir-btn mir-btn-ghost mir-btn-xs">
                                            <i data-feather="edit"></i>
                                        </button>
                                        <button class="mir-btn mir-btn-ghost mir-btn-xs">
                                            <i data-feather="trash-2"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="mir-table-user">
                                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=32&h=32&fit=crop&crop=face" alt="User" class="mir-table-avatar">
                                        <span>مریم کریمی</span>
                                    </div>
                                </td>
                                <td>maryam@example.com</td>
                                <td>طراح</td>
                                <td><span class="mir-status mir-status-danger">غیرفعال</span></td>
                                <td>
                                    <div class="mir-table-actions">
                                        <button class="mir-btn mir-btn-ghost mir-btn-xs">
                                            <i data-feather="edit"></i>
                                        </button>
                                        <button class="mir-btn mir-btn-ghost mir-btn-xs">
                                            <i data-feather="trash-2"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Usage Guide -->
        <section class="demo-section">
            <h2 class="demo-title">راهنمای استفاده - Usage Guide</h2>
            
            <div class="demo-subtitle">نحوه استفاده</div>
            <div class="code-preview">
<!-- Import CSS -->
&lt;link rel="stylesheet" href="components/table/table.css"&gt;

<!-- Import JavaScript -->
&lt;script src="components/table/table.js"&gt;&lt;/script&gt;

<!-- Basic Table -->
&lt;table class="mir-table"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;نام&lt;/th&gt;
            &lt;th&gt;ایمیل&lt;/th&gt;
            &lt;th&gt;وضعیت&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;tr&gt;
            &lt;td&gt;سارا احمدی&lt;/td&gt;
            &lt;td&gt;sara@example.com&lt;/td&gt;
            &lt;td&gt;&lt;span class="mir-status mir-status-success"&gt;فعال&lt;/span&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;

<!-- Advanced Table with JavaScript -->
&lt;script&gt;
const advancedTable = new MirageTable({
    element: '#advancedTable',
    data: userData,
    sortable: true,
    filterable: true,
    selectable: true,
    pagination: {
        enabled: true,
        perPage: 10
    },
    columns: [
        { key: 'name', label: 'نام', sortable: true },
        { key: 'email', label: 'ایمیل', sortable: true },
        { key: 'role', label: 'نقش', sortable: true }
    ]
});
&lt;/script&gt;
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="../../assets/js/mirage-script.js"></script>
    <script src="table.js"></script>
    <script>
        // Initialize Feather Icons
        feather.replace();

        // Sample data
        const sampleData = [
            { id: 1, name: 'علی احمدی', email: 'ali@example.com', role: 'مدیر', status: 'فعال', created: '۱۴۰۳/۰۱/۱۵' },
            { id: 2, name: 'سارا کریمی', email: 'sara@example.com', role: 'توسعه‌دهنده', status: 'فعال', created: '۱۴۰۳/۰۱/۲۰' },
            { id: 3, name: 'مریم حسینی', email: 'maryam@example.com', role: 'طراح', status: 'معلق', created: '۱۴۰۳/۰۲/۰۱' },
            { id: 4, name: 'رضا رضایی', email: 'reza@example.com', role: 'تست‌کار', status: 'غیرفعال', created: '۱۴۰۳/۰۲/۱۰' },
            { id: 5, name: 'فاطمه قاسمی', email: 'fateme@example.com', role: 'مدیر محصول', status: 'فعال', created: '۱۴۰۳/۰۲/۱۵' }
        ];

        // Initialize advanced table
        const advancedTable = new MirageTable({
            element: '#advancedTable',
            data: sampleData,
            sortable: true,
            filterable: true,
            selectable: true,
            pagination: {
                enabled: true,
                perPage: 10
            },
            columns: [
                { key: 'id', label: 'شناسه', sortable: true },
                { key: 'name', label: 'نام', sortable: true },
                { key: 'email', label: 'ایمیل', sortable: true },
                { key: 'role', label: 'نقش', sortable: true },
                { key: 'status', label: 'وضعیت', sortable: true },
                { key: 'created', label: 'تاریخ ثبت', sortable: true }
            ],
            onSelect: (selectedRows) => {
                document.getElementById('selectedRows').textContent = convertToPersianNumbers(selectedRows.length.toString());
            },
            onSort: (column, direction) => {
                console.log(`Sorted by ${column} ${direction}`);
            },
            onFilter: (filteredData) => {
                document.getElementById('filteredRows').textContent = convertToPersianNumbers(filteredData.length.toString());
            }
        });

        // Convert numbers to Persian
        function convertToPersianNumbers(text) {
            const persianNumbers = ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'];
            return text.replace(/\d/g, (digit) => persianNumbers[parseInt(digit)]);
        }

        // Demo control functions
        document.getElementById('addRowBtn').addEventListener('click', () => {
            const newRow = {
                id: Date.now(),
                name: 'کاربر جدید',
                email: 'newuser@example.com',
                role: 'کاربر',
                status: 'فعال',
                created: new Date().toLocaleDateString('fa-IR')
            };
            advancedTable.addRow(newRow);
        });

        document.getElementById('deleteSelectedBtn').addEventListener('click', () => {
            advancedTable.deleteSelectedRows();
        });

        document.getElementById('selectAllBtn').addEventListener('click', () => {
            advancedTable.selectAll();
        });

        document.getElementById('clearSelectionBtn').addEventListener('click', () => {
            advancedTable.clearSelection();
        });

        document.getElementById('exportBtn').addEventListener('click', () => {
            advancedTable.exportToCSV('users.csv');
        });

        // Initialize statistics
        setTimeout(() => {
            document.getElementById('totalRows').textContent = convertToPersianNumbers(sampleData.length.toString());
            document.getElementById('filteredRows').textContent = convertToPersianNumbers(sampleData.length.toString());
        }, 100);
    </script>
</body>
</html>